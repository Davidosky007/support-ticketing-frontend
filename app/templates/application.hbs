{{page-title "Support Ticketing System"}}

<div class="app-container">
  <header class="navbar">
    <div class="navbar-container">
      <div class="navbar-brand">
        <LinkTo @route="index" class="logo">Support Ticketing System</LinkTo>
      </div>
      <div class="navbar-menu">
        {{#if this.session.isAuthenticated}}
          {{#if this.session.data.authenticated.user.isAgent}}
            <LinkTo @route="agent.dashboard" class="nav-item">Dashboard</LinkTo>
            <LinkTo @route="agent.tickets" class="nav-item">Tickets</LinkTo>
          {{else}}
            <LinkTo @route="customer.tickets" class="nav-item">My Tickets</LinkTo>
            <LinkTo @route="customer.new-ticket" class="nav-item">New Ticket</LinkTo>
          {{/if}}
          <button {{on "click" this.invalidateSession}} class="btn-logout" type="button">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        {{else}}
          <LinkTo @route="login" class="btn-login">Login</LinkTo>
          <LinkTo @route="register" class="btn-signup">Sign Up</LinkTo>
        {{/if}}
      </div>
    </div>
  </header>

  <main class="main-content">
    {{outlet}}
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; {{this.currentYear}} Support Ticketing System. All rights reserved.</p>
    </div>
  </footer>
</div>